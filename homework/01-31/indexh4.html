<!DOCTYPE html>
<html>
    <head>
        <h4 style="font-family:helvetica;">Homework 4: 01-31</h4>

    <!-- linking the stylesheet -->
    <link rel="styelsheet" href="styleh4.css">

    <!-- load external JS file -->
    <script src="/homework/01-31/myFunctions.js"></script>

    <!-- load D3 JS library v7 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    </head>

    <body>

        <div>
            <h2 id="Titles">Moving with Shapes</h2>
        </div>

        <!-- changing attributes of the title -->
        <script>

            var page_title = d3.select('#Titles');

            page_title.style("color","blue")
            .style("font-size", "40px")
            .style("font-family", "helvetica")
            .style("background-color", "lightblue");

            page_title.attr("class","helText");
            
        </script>

        <div>
            <svg width="800" height="400" id="data-viz">
                <rect width="800" height="400" style="fill: white; stroke-width: 2; stroke: blue;"></rect>
            </svg>
        </div>

        <div>
            <button onclick="drawRecs(shape1)">Flower 1</button>
            <button onclick="drawRecs(shape2)">Flower 2</button>
            <button onclick="drawRecs(shape3)">Flower 3</button>
        </div>

        <script>

            // data array 1
            
            var shape1 = [
                {
                    flower:"rose",
                    value:12302181
                },
                {
                    flower:"sunflower",
                    value:42309638
                }
            ];

            // data array 2

            var shape2 = [
                {
                    flower:"lilies",
                    value:82304519
                },
                {
                    flower:"sunflower",
                    value:52307218
                }
            ];

            // data array 3

            var shape3 = [
                {
                    flower:"lilies",
                    value:92310253
                },
                {
                    flower:"sunflower",
                    value:62307182
                },
                {
                    flower:"rose",
                    value:60204612
                }
            ];
            
            // drawing rectangles

            function drawRecs(dataArray) {

            var rect = d3.select("#data-viz").selectAll("rectangles")
            .data(dataArray, function(d) {
                return d.flower;
            });

            // entering rectangles
            rect.join(
                function(enter) {
                    return enter.append("rect")
                    .attr("fill", function(d){
                if (d.flower == "rose") {
                    return "red";
                } else if (d.flower == "sunflower") {
                    return "yellow";
                } else if (d.flower == "lilies") {
                    return "purple";
                }
            })

            .attr("x",randomPosition)
            .attr("y",100)
            .attr("width",0)
            .attr("height",0)
            .transition().duration(1000)
            .attr("height",140)
            .attr("width",180);
        },
            // updating rectangles
            function(update) {
                return update.transition().duration(1000)
                .attr("x", randomPosition);
            },
            

            // exiting rectangles
            function(exit) {
                exit.transition().duration(1000)
                .attr("width",20)
                .attr("height",40)
                .remove();

            }
            )
        }
        </script>
        <br>
        <br>
        <a href="https://deepthijojy.github.io">
            <font style="font-family: helvetica;">Back to Homepage</font>
        </a>

    </body>
</html>